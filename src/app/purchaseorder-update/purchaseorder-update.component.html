<div id="main-document">
  <app-child-document-manage-save [document]="document" [typeDocument]="'purchaseorder'"></app-child-document-manage-save>
  <div class="left-panel section" style="max-width:25%;width:400px">
    <app-child-document-header [document]="document" [typeDocumentLabel]="'Bon de commande'"></app-child-document-header>
  </div>

  <div class="right-panel section" style="max-width:75%;width:1200px">
    <p-tabView>
      <p-tabPanel header="Détails">
        <app-child-tabpanel-detail [document]="document"></app-child-tabpanel-detail>
      </p-tabPanel>
      <p-tabPanel header="Adresse document">
        <app-child-tabpanel-address [customer]="document.customer"></app-child-tabpanel-address>
      </p-tabPanel>
      <p-tabPanel header="Aperçu document">
        <app-child-tabpanel-viewpdf [typeDocument]="'purchaseorder'" [document]="document"></app-child-tabpanel-viewpdf>
      </p-tabPanel>
      <p-tabPanel header="Statut">
        <app-child-tabpanel-status [statusHistory]="document.statusHistory"></app-child-tabpanel-status>
      </p-tabPanel>
      <p-tabPanel header="Historique" id="historic">

      </p-tabPanel>
      <p-tabPanel header="Workflow" id="workflow">
        <button pButton type="button" label="Envoyer" icon="pi pi-inbox" class="p-button-secondary p-button-sm" (click)="sendMail()"></button>
        <button pButton type="button" label="Duplicata" icon="pi pi-file-pdf" class="p-button-info p-button-sm"></button>
        <button pButton type="button" label="Facturer" icon="pi pi-money-bill" class="p-button-danger p-button-sm not-always"></button>
        <button pButton type="button" label="Annuler" icon="pi pi-money-bill" class="p-button-warning p-button-sm not-always"></button>
      </p-tabPanel>
    </p-tabView>
    <p-blockUI [blocked]="blocked"></p-blockUI>
  </div>

  <p-dialog header="Message" [(visible)]="popupDisplay" [style]="{width: '50vw'}" [baseZIndex]="10000">
    <p>
      {{popupMessage}}
    </p>
    <ng-template pTemplate="footer">
      <p-button icon="pi pi-check" (click)="popupDisplay=false" label="OK" styleClass="p-button-text"></p-button>
    </ng-template>
  </p-dialog>
  <p-confirmDialog [style]="{width: '50vw'}" [baseZIndex]="10000"></p-confirmDialog>
</div>
